{"version":3,"file":"content.js","mappings":"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","sources":["webpack://goldenthinkerextractor/./src/content.js"],"sourcesContent":["// CORS: 'sha256-3woF8BZ54TeXM+czaH3aXoaJsVpiamuAKFsXDykAR/Q='\r\n\r\nfunction attach_event_listeners(){\r\n  \r\n  \r\n    // Start Button - execute injection script\r\n  document.getElementById(\"startButton\").addEventListener(\"click\", function() {\r\n    const button = this;\r\n    chrome.tabs.query({ active: true, currentWindow: true }, function(tabs) {\r\n        const activeTab = tabs[0];\r\n        console.log(\"Sending 'start_script' message to background script\");\r\n        chrome.runtime.sendMessage({ action: \"start_script\", tabId: activeTab.id }, function(response) {\r\n            if (chrome.runtime.lastError) {\r\n                console.error(\"Error sending message:\", chrome.runtime.lastError.message);\r\n                return;\r\n            }\r\n            if (response.status === \"success\") {\r\n                console.log(\"Script injection worked.\");\r\n                button.innerHTML = \"Stop\";\r\n                // Handle UI changes or further actions\r\n            } else if (response.status === \"error\") {\r\n                console.error(\"Script failed to inject:\", response.message);\r\n                // Handle error\r\n            }\r\n        });\r\n    });\r\n  });\r\n\r\n\r\n  // Download button listener\r\n  document.getElementById(\"downloadButton\").addEventListener(\"click\", function() {\r\n      console.log(\"downloading...\");\r\n      const filenameInput = document.getElementById(\"filename\");\r\n      const filename = filenameInput.value.trim() || \"download\"; // Use a default filename if none is provided\r\n\r\n      chrome.storage.local.get([\"globalResultsArray\"], function(data) {\r\n          if (data.globalResultsArray) {\r\n              const jsonString = JSON.stringify(data.globalResultsArray, null, 2);\r\n              const blob = new Blob([jsonString], { type: \"application/json\" });\r\n              const url = URL.createObjectURL(blob);\r\n\r\n              const a = document.createElement(\"a\");\r\n              a.href = url;\r\n              a.download = `${filename}.json`; // Use the user-specified filename\r\n              document.body.appendChild(a);\r\n              a.click();\r\n\r\n              document.body.removeChild(a);\r\n              URL.revokeObjectURL(url);\r\n          } else {\r\n              console.log(\"No data to download.\");\r\n          }\r\n      });\r\n  });\r\n\r\n\r\n  // Clear selectors from cookies and text area\r\n  document.getElementById(\"clearButton\").addEventListener(\"click\", function() {\r\n    console.log(\"clear\");\r\n    chrome.storage.local.clear(function() {\r\n      var error = chrome.runtime.lastError;\r\n      if (error) {\r\n          console.error(error);\r\n      } else {\r\n          console.log('Data cleared from chrome.storage.local');\r\n      }\r\n    });\r\n  });\r\n\r\n\r\n  // Add selector button\r\n  document.getElementById(\"addElementButton\").addEventListener(\"click\", function() {\r\n    const nameInput = document.getElementById(\"elementName\");\r\n    const selectorInput = document.getElementById(\"elementSelector\");\r\n    const name = nameInput.value.trim();\r\n    const selector = selectorInput.value.trim();\r\n\r\n    if (name && selector) {\r\n        chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {\r\n            const currentTabId = tabs[0].id.toString(); // Convert tab ID to string for use as a key\r\n            const newElement = {name, selector};\r\n\r\n            // Retrieve the current list of selectors for the tab, add the new one, and save it back\r\n            chrome.storage.local.get([currentTabId], function(result) {\r\n                const currentSelectors = result[currentTabId] ? result[currentTabId] : [];\r\n                currentSelectors.push(newElement);\r\n                let storageObject = {};\r\n                storageObject[currentTabId] = currentSelectors;\r\n\r\n                chrome.storage.local.set(storageObject, function() {\r\n                    console.log('Selector saved for tab ID:', currentTabId);\r\n                    // Clear inputs and refresh the list of selectors\r\n                    nameInput.value = '';\r\n                    selectorInput.value = '';\r\n                    loadSelectorsForCurrentTab();\r\n                });\r\n            });\r\n        });\r\n    } else {\r\n        alert(\"Please fill in both name and selector fields.\");\r\n    }\r\n  });\r\n\r\n\r\n  // execute macro button\r\n  document.getElementById(\"apply_macro_button\").addEventListener(\"click\", function() {\r\n    const textareaData = document.getElementById(\"json_elements\").value;\r\n    // Query the current active tab in the current window\r\n    chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {\r\n        const currentTab = tabs[0];\r\n        if (currentTab) {\r\n            // Send a message to your background script with the current tab's ID\r\n            chrome.runtime.sendMessage({\r\n                action: \"apply_macro_button_message\",\r\n                data: textareaData,\r\n                tabId: currentTab.id // Include the current tab's ID in the message\r\n            }, function(response) {\r\n                console.log(\"Response from background:\", response);\r\n            });\r\n        }\r\n    });\r\n  });\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nfunction loadSelectorsForCurrentTab() {\r\n  chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {\r\n      const currentTabId = tabs[0].id.toString();\r\n      chrome.storage.local.get([currentTabId], function(result) {\r\n          const selectors = result[currentTabId] ? result[currentTabId] : [];\r\n          const elementsList = document.getElementById(\"elementsList\");\r\n          elementsList.innerHTML = ''; // Clear existing list\r\n\r\n          selectors.forEach((element, index) => {\r\n              const elementItem = document.createElement(\"div\");\r\n              elementItem.className = \"element-item\";\r\n              elementItem.innerHTML = `<td>${element.name}: ${element.selector}</td><td></td><td></td><td><button class=\"removeElementButton\" data-index=\"${index}\">X</button></td>`;\r\n              elementsList.appendChild(elementItem);\r\n\r\n              // Add remove functionality\r\n              elementItem.querySelector(\".removeElementButton\").addEventListener(\"click\", function() {\r\n                  removeSelectorFromCurrentTab(index);\r\n              });\r\n          });\r\n      });\r\n  });\r\n}\r\n\r\n\r\n\r\nfunction removeSelectorFromCurrentTab(index) {\r\n  chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {\r\n      const currentTabId = tabs[0].id.toString();\r\n      chrome.storage.local.get([currentTabId], function(result) {\r\n          let selectors = result[currentTabId];\r\n          if (selectors) {\r\n              selectors.splice(index, 1); // Remove the selector at the specified index\r\n              let storageObject = {};\r\n              storageObject[currentTabId] = selectors;\r\n\r\n              chrome.storage.local.set(storageObject, function() {\r\n                  console.log('Selector removed for tab ID:', currentTabId);\r\n                  loadSelectorsForCurrentTab(); // Refresh the list of selectors\r\n              });\r\n          }\r\n      });\r\n  });\r\n}\r\n\r\n\r\n\r\n// open tab from popup.html\r\nfunction openTab(evt, tabName) {\r\n  var i,tabcontent, tablinks;\r\n  tabcontent = document.getElementsByClassName(\"tabcontent\");\r\n  for (i = 0; i < tabcontent.length; i++) {\r\n    tabcontent[i].style.display = \"none\";\r\n  }\r\n  tablinks = document.getElementsByClassName(\"tablinks\");\r\n  for (i = 0; i < tablinks.length; i++) {\r\n    tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n  }\r\n  var targetTab = document.getElementById(tabName);\r\n  if (targetTab) {\r\n    targetTab.style.display = \"block\";\r\n    evt.currentTarget.className += \" active\";\r\n  } else {\r\n    console.error(\"Tab not found: \", tabName);\r\n  }\r\n}\r\n\r\n\r\n\r\n// Selector Parameters\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n  console.log(\"DOMContentLoaded\");\r\n\r\n\r\n  chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {\r\n    const url = new URL(tabs[0].url);\r\n    const domain = url.hostname;\r\n    document.getElementById(\"domainName\").textContent = domain;\r\n  });\r\n\r\n  attach_event_listeners();\r\n  loadSelectorsForCurrentTab(); // Load selectors for the current tab\r\n\r\n  var tablinks = document.getElementsByClassName(\"tablinks\");\r\n  for (let i = 0; i < tablinks.length; i++) {\r\n      tablinks[i].addEventListener('click', function(event) {\r\n          var tabName = this.getAttribute('data-tab');\r\n          openTab(event,tabName);\r\n      });\r\n\r\n      // Automatically open the first tab or a specific tab\r\n      if(tablinks.length > 0) {\r\n        tablinks[0].click();\r\n      }\r\n  }\r\n\r\n\r\n    function getFaviconUrl(url) {\r\n      // Assuming favicon is at the root directory as a fallback\r\n      let faviconUrl = `${url.protocol}//${url.hostname}/favicon.ico`;\r\n    \r\n      // Attempt to fetch the favicon specified in the page's link element\r\n      function findFaviconInDocument() {\r\n        const link = document.querySelector(\"link[rel~='icon']\");\r\n        if (link) {\r\n          return link.href;\r\n        }\r\n        return '';\r\n      }\r\n\r\n      chrome.scripting.executeScript({\r\n        target: {tabId: url.id},\r\n        function: findFaviconInDocument,\r\n      }, (injectionResults) => {\r\n        for (const frameResult of injectionResults)\r\n          if (frameResult.result && frameResult.result !== '') {\r\n            faviconUrl = frameResult.result;\r\n            break;\r\n          }\r\n        document.getElementById('target_favicon').src = faviconUrl;\r\n      });\r\n    \r\n      return faviconUrl; // This will return the default favicon path or the updated one if found\r\n    }\r\n\r\n    \r\n    // Fetch and display the favicon and domain\r\n    chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {\r\n      const url = new URL(tabs[0].url);\r\n      document.getElementById(\"domainName\").textContent = url.hostname;\r\n      document.getElementById('target_favicon').src = `${url.protocol}//${url.host}/favicon.ico`;\r\n    });\r\n\r\n});\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    const textarea = document.getElementById('json_elements');\r\n    const applyButton = document.getElementById('apply_macro_button');\r\n    const messageDiv = document.getElementById('validation_message');\r\n\r\n    function validateAndEnableButton(jsonText) {\r\n        try {\r\n            const jsonData = JSON.parse(jsonText);\r\n            if (Array.isArray(jsonData)) {\r\n                // JSON is valid and is an array\r\n                applyButton.disabled = false; // Enable the button\r\n                messageDiv.innerHTML = '<span style=\"color: green;\">✔ JSON data is correct</span>';\r\n            } else {\r\n                // JSON is valid but not an array\r\n                applyButton.disabled = true; // Keep the button disabled\r\n                messageDiv.innerHTML = '<span style=\"color: red;\">✘ JSON array is not valid</span>';\r\n            }\r\n        } catch (error) {\r\n            // JSON is invalid\r\n            applyButton.disabled = true; // Keep the button disabled\r\n            messageDiv.innerHTML = '<span style=\"color: red;\">✘ JSON array is not valid</span>';\r\n        }\r\n    }\r\n\r\n    textarea.addEventListener('input', function() {\r\n        const text = textarea.value.trim();\r\n        textarea.value = text;\r\n        console.log(text);\r\n        if (text) {\r\n            validateAndEnableButton(text);\r\n        } else {\r\n            applyButton.disabled = true; // Keep the button disabled if textarea is empty\r\n            messageDiv.innerHTML = ''; // Clear the message\r\n        }\r\n    });\r\n});\r\n\r\n\r\n"],"names":["attach_event_listeners","document","getElementById","addEventListener","button","chrome","tabs","query","active","currentWindow","activeTab","console","log","runtime","sendMessage","action","tabId","id","response","lastError","error","message","status","innerHTML","filenameInput","filename","value","trim","storage","local","get","data","globalResultsArray","jsonString","JSON","stringify","blob","Blob","type","url","URL","createObjectURL","a","createElement","href","download","concat","body","appendChild","click","removeChild","revokeObjectURL","clear","nameInput","selectorInput","name","selector","currentTabId","toString","newElement","result","currentSelectors","push","storageObject","set","loadSelectorsForCurrentTab","alert","textareaData","currentTab","selectors","elementsList","forEach","element","index","elementItem","className","querySelector","removeSelectorFromCurrentTab","splice","openTab","evt","tabName","i","tabcontent","tablinks","getElementsByClassName","length","style","display","replace","targetTab","currentTarget","domain","hostname","textContent","event","getAttribute","getFaviconUrl","faviconUrl","protocol","findFaviconInDocument","link","scripting","executeScript","target","injectionResults","_iterator","_createForOfIteratorHelper","_step","s","n","done","frameResult","err","e","f","src","host","textarea","applyButton","messageDiv","validateAndEnableButton","jsonText","jsonData","parse","Array","isArray","disabled","text"],"sourceRoot":""}